<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>주경야코: 낮엔 일하고 밤엔 코딩한다 - Asuracoder</title>
    <link>https://asuracoder.com/</link>
    
    <atom:link href="https://asuracoder.com/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description></description>
    <pubDate>Sun, 14 Nov 2021 14:58:54 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>알고리즘 트레이딩, 2년간의 성과(1)</title>
      <link>https://asuracoder.com/2021/11/14/algorithm-start/</link>
      <guid>https://asuracoder.com/2021/11/14/algorithm-start/</guid>
      <pubDate>Sun, 14 Nov 2021 13:17:10 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;알고리즘 트레이딩을 시작하고 이달로 2년이 지났습니다. 제목만 보면 마치 2년간의 성과를 정리하는 최종 결과물 같지만 사실은 2년간 겪은 경험과 함께 앞으로의 방향을 제시하는 이정표가 될 글입니다. 카테고리의 첫 글부터 끝내버리면 아쉽기도 하고요</description>
        
      
      
      
      <content:encoded><![CDATA[<p>알고리즘 트레이딩을 시작하고 이달로 2년이 지났습니다. 제목만 보면 마치 2년간의 성과를 정리하는 최종 결과물 같지만 사실은 2년간 겪은 경험과 함께 앞으로의 방향을 제시하는 이정표가 될 글입니다. 카테고리의 첫 글부터 끝내버리면 아쉽기도 하고요.</p><h1 id="알고리즘-트레이딩의-시작"><a href="#알고리즘-트레이딩의-시작" class="headerlink" title="알고리즘 트레이딩의 시작"></a>알고리즘 트레이딩의 시작</h1><p>알고리즘 트레이딩은 말 그대로 정해진 알고리즘에 따라 컴퓨터가 주식거래를 자동으로 해주는 것을 말합니다. 처음 시작은 단순한 생각에서 비롯되었습니다.</p><blockquote><p>① 돈을 벌려면 주식투자를 해야 한다.<br>② 나는 회사에서 주식거래를 할수는 없다.<br>&nbsp;&nbsp;&nbsp;  (바쁘기도 하거니와 업무중 딴짓은 금지되어 있다.)<br>③ 나 대신 누군가 날 위해 주식거래를 해주면 좋겠다.   </p><p><strong>→ 그러면 똘똘한 컴퓨터가 나 대신 거래를 해 준다면?</strong></p></blockquote><p>BINGO!<br>머리가 맑아지는 느낌이었습니다.<br>나 대신 나보다 엄청 빠른 머리와 손을 가진 컴퓨터가 쉬지 않고 주식을 거래하게 하자!<br>‘나는 회사일을 하고 내 PC는 하루종일 주식투자를 한다’는 컨셉은 마치 분신술을 쓰는 것과 같은 생각이 들었습니다.</p><p>게다가 100만원만 벌어도 빨리 팔아서 수익을 실현하고 싶어하는 저와 달리 부화뇌동 하지 않고 오로지 매매원칙에 따라 사고 파는 CPU는 명석한 투자고문처럼 믿음직스러울 것 같았습니다.</p><p>그래서 많은 분들이 그랬듯이알고리즘 트레이딩의 바이블 “파이썬으로 배우는 알고리즘 트레이딩”을 구매해서 본격적으로 공부를 시작했습니다. </p><img src="https://search1.kakaocdn.net/thumb/C116x164.q85/?fname=http%3A%2F%2Ft1.daumcdn.net%2Flbook%2Fimage%2F1584670%3Ftimestamp%3D20210402150645%3Fmoddttm=202111142250"><p>파이썬으로 배우는 알고리즘 트레이딩(조대표 저)<br>이미지출처: 카카오책검색</p><h1 id="v1-첫-거래와-수익"><a href="#v1-첫-거래와-수익" class="headerlink" title="v1. 첫 거래와 수익"></a>v1. 첫 거래와 수익</h1><h2 id="증권사-선택"><a href="#증권사-선택" class="headerlink" title="증권사 선택"></a>증권사 선택</h2><p>알고리즘 트레이딩을 할 때 많이 쓰는 증권사는 대우증권, 이베스트투자증권, 키움증권이 있습니다. 특히 키움증권은 저렴한 수수료로 국내 점유율 1위를 달리고 있는 MTS계의 제왕이었기에 저도 키움으로 시작할 생각이었습니다. 키움은 다른 두곳과 달리 OCX 방식을 사용하기 때문에 PyQT가 필수였지만, 어차피 멀티태스킹이나 루프의 편의성을 생각하면 어느 곳을 선택하든 PyQT는 필수였으므로 큰 문제는 아니었습니다.</p><p>하지만 맨땅에서 시작하는 코딩은 진도가 더디게 나가는 문제가 있었고, 검색을 통해 thinkalgo 알고리즘 트레이딩 사이트(<a href="http://thinkalgo.co.kr/" target="_blank">Thinkalgo</a>)에서 만든 mymoneybot 이라는 트레이딩봇을 알게 되었습니다. 거래 알고리즘만 봇 형태로 집어넣으면 바로 사용가능한 거의 완성된 형태의 프로그램이었습니다. 게다가 거래 현황을 텔레그램으로 실시간 전송도 해주는 멋진 기능도 있었습니다. (아쉽게도 지금은 서비스가 종료되었습니다.)</p><p>이 mymoneybot이 이베스트투자증권용으로 만들어져 있었고 그래서 이베스트를 주력 증권사로 삼아 시작했습니다.</p><h2 id="작동원리"><a href="#작동원리" class="headerlink" title="작동원리"></a>작동원리</h2><p>원리는 간단합니다. </p><p>이베스트에서는 조건검색식을 파일로 저장하는 기능이 있고, 이 파일을 봇에서 사용하여 조건검색이 가능합니다. 예를 들어 조건검색식을 아래와 같이 정해놓습니다.</p><blockquote><p>직전 5일간 하향 추세였으나 어제 종가보다 오늘 시작가 높고 거래량이 TOP 30위 안에 드는 종목</p></blockquote><p>그러면 이 종목들이 실시간으로 리스트에 추가/삭제되어 매수를 합니다. 매수 후에 목표한 수익률에 도달하면 해당 종목을 팔도록 설정하구요. </p><p>저는 약간의 주식 공부를 병행하면서 흔히 말하는 급등주 찾는 공식을 대입해서 실전에 돌입하였습니다. 처음엔 그저 자동으로 주식을 사고 파는 제 PC가 기특하기만 했고, 수익도 꽤 발생했습니다. 어떤날은 자본금이 200만원인데 하루에 50만원을 벌어들여 +25%의 이익을 보기도 했죠. </p><p>하지만, 주식시장은 제가 생각한 것보다 훨씬 복잡하고 위험한 곳이었습니다.</p><h2 id="이상현상-발생"><a href="#이상현상-발생" class="headerlink" title="이상현상 발생"></a>이상현상 발생</h2><p>갑자기 손실이 발생했습니다. </p><p>단타를 치는 분들은 아시겠지만 9시 장이 열리면서 엄청난 거래량이 발생됩니다. 대부분의 단타 거래는 9시부터 9시10분사이에 모두 끝난다고 해도 과언이 아닙니다. 이 10분 사이에 저는 자산의 2-30%의 손실을 보기도 했습니다. 물론 시험단계여서 많은 돈을 넣어놓지는 않았지만 10분간 발생한 손실을 메꾸는 데에는 오랜 시간이 걸렸습니다. </p><p>손실이 발생한 이유를 분석해보니 제 알고리즘이 낚시에 걸려들었음을 알 수 있었습니다. 급등주를 찾기 위해 짧은 시간에 가격과 거래량이 높아지는 종목을 검색하도록 되어있었는데 누군가 고의로 가격을 갑자기 올린 것에 낚인거죠. 시가가 20,000원인 종목을 22,000원까지 순식간에 올려 알고리즘이 급등주로 파악해 매수하면 갑자기 물량을 풀어 18,000~19,000원까지 가격을 떨어뜨리는 수법이었습니다. </p><p>일정 손실이 넘어가면 손절매를 하도록 코드를 작성했기 때문에 당일 최고가에 사서 저가에 파는 바보같은 짓을 한 겁니다.</p><p><em>아래와 같은 손절매 코드를 넣어놓았습니다.</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 현재가 &lt; P.매수가 * (<span class="number">1</span>-self.losscut):</span><br><span class="line">    self.매도Lock[단축코드] = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    self.금일매도종목.append(단축코드)</span><br><span class="line">    희망가 = 현재가</span><br></pre></td></tr></table></figure><br/>그래서 저는 대응책을 고민하며 코딩 공부와 주식 공부를 병행하기 시작했습니다. 짧으면 1분내에 승부가 나는 광기의 시장에서 조금이라도 승률을 높이려면 빠르고 효율적인 코드가 필요했고, 돈이 걸린 냉혹한 거래소에서 속지 않기 위한 지혜가 필요했기 때문입니다.<h1 id="v2-머신러닝-도입"><a href="#v2-머신러닝-도입" class="headerlink" title="v2. 머신러닝 도입"></a>v2. 머신러닝 도입</h1><p>첫 시작은 저를 위해 하루종일 단타매매를 해주는 로봇을 만드는 것이었지만 계속된 테스트 결과 단순한 알고리즘 만으로는 단타로 수익을 내기 힘들다는 결론을 얻었습니다. 단타의 고수로 인정받은 유튜버 ‘창원개미’님의 영상을 보면 단타매매의 성공에는 공식보다는 오래된 경험과 동물적 감각이 더 필요하다는 것을 알 수 있습니다.</p><p>오래된 경험을 컴퓨터에게 주입해 주는 것.<br>저는 머신러닝을 도입하게 됩니다.</p><br/>쓰다보니 글이 길어져서, 다음편에 계속하겠습니다.]]></content:encoded>
      
      
      <category domain="https://asuracoder.com/categories/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%ED%8A%B8%EB%A0%88%EC%9D%B4%EB%94%A9/">알고리즘트레이딩</category>
      
      
      <category domain="https://asuracoder.com/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%ED%8A%B8%EB%A0%88%EC%9D%B4%EB%94%A9/">알고리즘트레이딩</category>
      
      <category domain="https://asuracoder.com/tags/python/">python</category>
      
      <category domain="https://asuracoder.com/tags/%EC%A3%BC%EC%8B%9D/">주식</category>
      
      <category domain="https://asuracoder.com/tags/%EC%9E%90%EB%8F%99%EC%A3%BC%EC%8B%9D%EA%B1%B0%EB%9E%98/">자동주식거래</category>
      
      <category domain="https://asuracoder.com/tags/%EB%B4%87%ED%8A%B8%EB%A0%88%EC%9D%B4%EB%94%A9/">봇트레이딩</category>
      
      <category domain="https://asuracoder.com/tags/%ED%80%80%ED%8A%B8/">퀀트</category>
      
      <category domain="https://asuracoder.com/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/">인공지능</category>
      
      
      <comments>https://asuracoder.com/2021/11/14/algorithm-start/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>프로젝트를 시작하며(플러터를 선택한 이유)</title>
      <link>https://asuracoder.com/2021/11/13/flutter-bookbirdie-1/</link>
      <guid>https://asuracoder.com/2021/11/13/flutter-bookbirdie-1/</guid>
      <pubDate>Sat, 13 Nov 2021 11:36:05 GMT</pubDate>
      
        
        
      <description>&lt;ol&gt;
&lt;li&gt;프로젝트명은 가칭 ‘책벗’입니다. 빠르고 강력한 멀티플랫폼 독서기록 어플을 만드는 게 최종 목표입니다.&lt;/li&gt;
&lt;li&gt;직접 사용할 목적으로 만드는 앱이고 무료로 공개할 생각입니다. 그래서 서버 비용이 발생되지 않도록 사용자가 많지 않</description>
        
      
      
      
      <content:encoded><![CDATA[<ol><li>프로젝트명은 가칭 ‘책벗’입니다. 빠르고 강력한 멀티플랫폼 독서기록 어플을 만드는 게 최종 목표입니다.</li><li>직접 사용할 목적으로 만드는 앱이고 무료로 공개할 생각입니다. 그래서 서버 비용이 발생되지 않도록 사용자가 많지 않았으면 좋겠습니다.<br>(저 같은 하드코어 독서가를 위한 앱입니다.)</li></ol><p><img src="../image/bookbirdie_logo.png"></p><hr><h1 id="특징"><a href="#특징" class="headerlink" title="특징"></a>특징</h1><ol><li>멀티플랫폼 지원<br>안드로이드, iOS, 웹앱을 지원합니다.<br>데이터 통합을 위해 로그인을 필요로합니다.</li><li>대량입력 지원<br>앱을 만드는 직접적인 이유입니다. 엑셀처럼 대량의 도서정보를 TEXT기반으로 입력할 수 있습니다.</li><li>계속적인 기능확장<br>아이패드 및 맥용 별도 앱, 위젯을 이용한 도서메모 리마인드기능, 노션/에버노트 내보내기, 책 추천 등 생각하고 있는 많은 기능들을 하나씩 추가해 나갈 생각입니다.</li></ol><h1 id="사용언어-플랫폼"><a href="#사용언어-플랫폼" class="headerlink" title="사용언어/플랫폼"></a>사용언어/플랫폼</h1><ol><li>안드로이드<br>Frontend : Flutter<br>일부 Native Kotlin 코드 사용</li><li>iOS<br>Frontend : Flutter<br>일부 Native Swift 코드 사용</li><li>웹앱<br>Flutter</li><li>BackEnd<br>저장소는 Firebase 사용 : AWS는 아직 플러터를 지원하지 않으므로 어쩔 수 없는 선택<br>회원정보를 다루어야 하므로 보안을 신경안써도 되는 Django를 이용할 생각</li></ol><h1 id="Flutter를-선택한-이유"><a href="#Flutter를-선택한-이유" class="headerlink" title="Flutter를 선택한 이유"></a>Flutter를 선택한 이유</h1><h2 id="팀의-부재"><a href="#팀의-부재" class="headerlink" title="팀의 부재"></a>팀의 부재</h2><p>저는 팀 없이 혼자 코딩 작업을 하고 있습니다. 첫 번째 모바일 어플은 Kotlin으로 만든 안드로이드 앱이었는데 iOS용으로 따로 개발하는 부담이 있었습니다. 저 같은 개인개발자나 소규모 스타트업에는 코드 하나로 Android/iOS/Web 까지 한번에 빌드가 가능한 Flutter는 매력적인 제안입니다.   </p><p>혼자 작업하기 때문에 최신 버전의 Flutter를 언제든 마음대로 적용해 작업할 수 있다는 점은 장점으로 작용합니다. 팀원끼리의 호환성을 걱정할 필요가 없기 때문이죠.</p><h2 id="빠른-레이아웃-작업"><a href="#빠른-레이아웃-작업" class="headerlink" title="빠른 레이아웃 작업"></a>빠른 레이아웃 작업</h2><p>모바일앱 작업을 실제로 해보니 고난도의 기술이 필요한 앱이 아니면 레이아웃 편집에 들어가는 시간이 반 이상이었습니다. 레이아웃을 그림으로 그리는게 아니라 하나씩 코드로 만들다보니 변경한 코드를 빌드해서 확인하는 시간이 많이 걸렸는데요, 플러터의 Hot Reload는 정말 빠르고 편리하게 수정된 사항을 확인할 수 있어 작업시간이 줄어드는 것을 체감할 수 있었습니다.</p><h2 id="편리한-비동기-코드"><a href="#편리한-비동기-코드" class="headerlink" title="편리한 비동기 코드"></a>편리한 비동기 코드</h2><p>Kotlin으로 작업할 때 코루틴이나 LiveData를 이용한 비동기 작업도 편리하긴 했지만 사용성 측면에서 Flutter의 async/await이 더 쉬운 느낌이었습니다.</p><br/>이제 개발을 시작하는 단계라 어떤 벽에 부딪힐 지는 모르겠지만 Flutter를 쓰면서 생기는 문제와 해결과정을 블로그에 정리해나갈 생각입니다.]]></content:encoded>
      
      
      <category domain="https://asuracoder.com/categories/Flutter/">Flutter</category>
      
      <category domain="https://asuracoder.com/categories/Flutter/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%B1%85%EB%B2%97/">프로젝트 책벗</category>
      
      
      <category domain="https://asuracoder.com/tags/flutter/">flutter</category>
      
      <category domain="https://asuracoder.com/tags/dart/">dart</category>
      
      <category domain="https://asuracoder.com/tags/android/">android</category>
      
      <category domain="https://asuracoder.com/tags/%ED%94%8C%EB%9F%AC%ED%84%B0/">플러터</category>
      
      <category domain="https://asuracoder.com/tags/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C/">안드로이드</category>
      
      <category domain="https://asuracoder.com/tags/iOS/">iOS</category>
      
      <category domain="https://asuracoder.com/tags/%EC%8A%A4%EB%A7%88%ED%8A%B8%ED%8F%B0/">스마트폰</category>
      
      <category domain="https://asuracoder.com/tags/%EC%B1%85%EB%B2%97/">책벗</category>
      
      <category domain="https://asuracoder.com/tags/bookbirdie/">bookbirdie</category>
      
      
      <comments>https://asuracoder.com/2021/11/13/flutter-bookbirdie-1/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
